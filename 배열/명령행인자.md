# 명령행 인자

C언어의 <b>main 함수</b>를 뜯어보자.

```c
#include <stdio.h>
int main(int argc, string argv[]){
}
```

- main함수가 두개의 인자를 받는데, 하나는 int이고 하나는 string의 배열이다.
- <b>argc</b>는 인자 개수를 뜻한다. (argument count)

  > argc는 main 함수가 받게 될 입력의 개수이다.

- <b>argv</b>는 관습적인 표현으로 인자벡터를 뜻한다. (argument vector) 인자들의 배열이라는 뜻이다.

  > argv[]는 입력이 포함되어 있는 배열이다.

  <br>

```c
#include <cs50.h>
#include <stdio.h>

int main(int argc, string argv[])
{
    if (argc == 2)
    // 사용자가 프롬프트에 단어 2개를 입력했다면
    {
        printf("hello, %s\n", argv[1]);
    }
    else
    {
        printf("hello, world\n");
    }
}
```

- 사용자에게 입력을 받을 때 get_string함수 사용 대신 <b>명령 프롬프트</b>를 사용할 수 있다.
- clang과 같은 기능을 구현한다.

<br>

파일을 컴파일하고 실행해보자.

```
./argv
hello, world
```

```
./argv David
hello, David
```

- C로 작성된 프로그램을 실행할 때, 프로그램 이름 뒤에 단어를 입력하면 그 단어들은 argv라는 배열에 들어간다.
- argc에는 단어의 개수가 저장된다.
- argv[0]에는 기본적으로 프로그램의 이름이 저장된다.
- argv[1]에는 뒤에 입력한 David라는 값이 저장된다.
- clang이나 make 등은 이름 뒤에 단어 입력을 받는것이 이런 형태로 구현된 것이라 이해하면 된다.

<br>

### main 함수의 반환값

- C의 main함수는 기본적으로 반환값을 가진다.
- main은 0을 반환한다.
- 0은 보통 문제 없음을 뜻한다.
- main함수는 0이 아닌 값을 반환할 수도 있다.
- 문제가 생기면 사람들이 임의로 정해놓은 에러코드가 반환되게 된다.

<br>
<hr>
<a href="https://www.boostcourse.org/cs112">모두를 위한 컴퓨터과학(CS50 2019)</a> - 명령행인자로 공부한 내용입니다.

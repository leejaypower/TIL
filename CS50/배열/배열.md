# 배열

```c
#include <stdio.h>

int main(void){
  char c1 = 'H';
  char c2 = 'i';
  char c3 = '!';
  printf("%c $c $c\n", c1,c2,c3);
}
```

- C에서 char를 입력할 때에는 작은 따옴표(')가 필요하다.(string은 쌍따옴표를 사용했다.)

```
H i !
```

<br>

ASCII코드를 통해 문자를 숫자로 변환한 값을 보고 싶다면 변수 앞에 (int)를 적으면 된다.

```c
printf("%i %i %i\n",(int)c1, (int)c2, (int)c3);
```

- 이를 <b>형변환</b>이라고 한다.
- 하나의 자료형을 다른 종류로 바꾸는 행위를 뜻한다.

```
72 73 33
```

<br>

|    H     |    i     |    !     |
| :------: | :------: | :------: |
|    72    |    73    |    33    |
| 01001000 | 01001001 | 00100001 |
|    c1    |    c2    |    c3    |

- c1, c2, c3 3개의 변수를 가진 -프로그램이 있다면 컴퓨터가 할일은 H와 i, !를 메모리 한 칸에 각자 넣는 것이다.<br>
- 그리고 각 칸에 해당하는 변수명을 저장한다.
- 메모리 안에 실제로 저장된 형태는 2진법이다.

<br>

### 예제

세 개의 점수를 저장하고 출력하는 프로그램

```c
#include <cs50.h>
#include <stdio.h>

int main(void)
{
    // Scores
    int score1 = 72;
    int score2 = 73;
    int score3 = 33;

    // Print average
    printf("Average: %i\n", (score1 + score2 + score3) / 3);
}
```

- 이건 좋은 디자인의 프로그램이 아니다.
- 점수의 개수가 <b>고정적</b>이므로 더 많은 점수가 필요할 경우 지원되지 않고, 많은 수정이 필요하다.

<br>

C에서는 <u>여러 개의 값을 가진 하나의 변수를 만들고 싶을 때</u> &nbsp;<b>배열</b>을 사용한다.

배열은 값들의 리스트로, 모두 같은 자료형의 값들이 같은 이름의 변수에 저장되어 있다.

```c
#include <cs50.h>
#include <stdio.h>

int main(void)
{
    int scores[3];
    // 3개의 값을 하나의 변수에 저장하기 위한 공간
    scores[0] = 72;
    scores[1] = 73;
    scores[2] = 33;

    printf("Average: %i\n", (scores[0] + scores[1] + scores[2]) / 3);
}
```

- 여전히 배열의 인덱스마다 점수를 지정해주어야 한다.(하드코딩)
- 같은 값을 반복하고 있어서(scores[3]과 printf의 3) 실수가 유발될 수 있다.

```c
#include <cs50.h>
#include <stdio.h>

const int N = 3;
/*
const는 constant 상수이다.
관습에 따라 변수 이름을 대문자로 적는다.
*/
int main(void)
{
    int scores[N];
    scores[0] = 72;
    scores[1] = 73;
    scores[2] = 33;

    printf("Average: %i\n", (scores[0] + scores[1] + scores[2]) / N);
}
```

- const로 해당 변수를 상수로 지정하면 clang 컴파일러는 실수로 값을 바꾸지 않도록 해준다.
- n을 어디에 사용하든 언제나 같은 값을 가진다.
- 이를 <b>전역 변수</b>라고 한다. 함수바깥에서 선언한다.
- 전역 변수의 선언을 통해 점수의 개수에 따라 수정해야 하는 코드가 줄어들었다.

<br>

프로그램을 더 개선해보자.

```c
#include <cs50.h>
#include <stdio.h>

float average(int length, int array[]);
// 함수의 프로토타입

int main(void)
{
    int n = get_int("Number of scores : ");

    // 점수가 들어갈 배열
    int scores[n];

    for (int i = 0; i < n; i++){
      scores[i] = get_int("Score %i: ", i + 1);
    }

    printf("Average: %.1f\n", average(n, scores));
    // 평균은 소수점 뒤 한자리만 반올림해서 보여준다.
}

float average(int length, int array[]){
  /*
  평균을 내기 위해 점수가 들어가는 배열의 길이와 그 배열 자체를 받는다.
  자바나 파이썬과 다르게 C의 배열은 스스로의 길이를 기억하지 않기 때문에 배열의 길이를 넣어줘야 한다.
  */

  int sum = 0;

  for(int i = 0; i < length; i++){
    sum += array[i];
    // sum = sum + array[i];
  }
  return (float) sum / (float) length;
}

```

- 동적으로 점수의 개수와 값을 받아오기 위해 cs50의 get_int 함수를 사용한다.

- for문을 사용해서 받아온 점수 개수만큼 반복해서 사용자에게 점수값을 받아온다.

- 평균을 계산하는 함수를 만든다.

- 평균은 소수점이 될 수도 있으니 자료형은 float를 쓴다.

- for문을 사용해서 점수 개수만큼 반복해서 점수들을 더하고, 더한 것을 배열의 길이로 나눈다.

- 하지만 배열의 길이도 정수이고, 점수 값도 정수이기 때문에 나눈 값의 소수점 뒤가 버려지게 된다.

- 이를 보완하기 위해 형변환을 사용한다.

<br>
<hr>
<a href="https://www.boostcourse.org/cs112">모두를 위한 컴퓨터과학(CS50 2019)</a> - 배열(1),배열(2)로 공부한 내용입니다.
